"use strict";(self.webpackChunkangular_chrome_extension=self.webpackChunkangular_chrome_extension||[]).push([[229],{7229:(v,s,r)=>{r.r(s),r.d(s,{PopupModule:()=>C});var c=r(6814),d=r(4670),f=r(1115),e=r(4946),g=r(9862),u=r(95);const m=[{path:"",pathMatch:"full",component:(()=>{class o{constructor(t,n,i){this.tabId=t,this.changeDetectorRef=n,this.httpClient=i,this.retailerInfo={Id:0,Code:"",kvSession:""}}ngOnInit(){const t=this;chrome.storage.local.get("receivedData",function(n){const i=n&&n.receivedData;if(i){t.localStorageData=i;const p=i.kvSession;if(p){const l=JSON.parse(p);t.retailerInfo=l.Retailer,t.retailerInfo.kvSession=p,t.changeDetectorRef.detectChanges()}}})}copyInputMessage(t){const n=document.createElement("textarea");n.value=t,document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n)}getTokenAndCopy(){this.httpClient.get(`https://fbc.kiotapi.com/fbid?retailerId=${this.retailerInfo.Id}`,{headers:{Authorization:"Basic YWRtaW46JmpMMnFDNjkxIW0z"}}).subscribe(t=>{const n=t.data;if(n&&n.length){const i=this.localStorageData.fbid;let p=n.find(l=>l.fbid===i);p||(p=n[0]),this.retailerInfo.fbUT=p.userToken,this.copyInputMessage(this.retailerInfo.fbUT)}console.log(t)})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(f.$),e.Y36(e.sBO),e.Y36(g.eN))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-popup"]],decls:33,vars:4,consts:[[1,"container","mt-2","mb-3"],[1,"row","mt-2"],[1,"col-md-4"],[1,"input-group"],[1,"input-group-text"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"far","fa-copy"],[1,"fas","fa-file-export"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4),e._uU(5,"RetailerId:"),e.qZA(),e.TgZ(6,"input",5),e.NdJ("ngModelChange",function(p){return n.retailerInfo.Id=p}),e.qZA(),e.TgZ(7,"button",6),e.NdJ("click",function(){return n.copyInputMessage(n.retailerInfo.Id)}),e._UZ(8,"i",7),e.qZA()()()(),e.TgZ(9,"div",1)(10,"div",2)(11,"div",3)(12,"span",4),e._uU(13,"RetailerCode:"),e.qZA(),e.TgZ(14,"input",5),e.NdJ("ngModelChange",function(p){return n.retailerInfo.Code=p}),e.qZA(),e.TgZ(15,"button",6),e.NdJ("click",function(){return n.copyInputMessage(n.retailerInfo.Code)}),e._UZ(16,"i",7),e.qZA()()()(),e.TgZ(17,"div",1)(18,"div",2)(19,"div",3)(20,"span",4),e._uU(21,"KvSession:"),e.qZA(),e.TgZ(22,"input",5),e.NdJ("ngModelChange",function(p){return n.retailerInfo.kvSession=p}),e.qZA(),e.TgZ(23,"button",6),e.NdJ("click",function(){return n.copyInputMessage(n.retailerInfo.kvSession)}),e._UZ(24,"i",7),e.qZA()()()(),e.TgZ(25,"div",1)(26,"div",2)(27,"div",3)(28,"span",4),e._uU(29,"Get FBUT:"),e.qZA(),e.TgZ(30,"input",5),e.NdJ("ngModelChange",function(p){return n.retailerInfo.fbUT=p}),e.qZA(),e.TgZ(31,"button",6),e.NdJ("click",function(){return n.getTokenAndCopy()}),e._UZ(32,"i",8),e.qZA()()()()()),2&t&&(e.xp6(6),e.Q6J("ngModel",n.retailerInfo.Id),e.xp6(8),e.Q6J("ngModel",n.retailerInfo.Code),e.xp6(8),e.Q6J("ngModel",n.retailerInfo.kvSession),e.xp6(8),e.Q6J("ngModel",n.retailerInfo.fbUT))},dependencies:[u.Fj,u.JJ,u.On],styles:[".input-group-text[_ngcontent-%COMP%]{width:120px;background-color:#0090da;color:#fff}.input-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:50px}"]}),o})()}];let h=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[d.Bz.forChild(m),u.u5,d.Bz]}),o})(),C=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[c.ez,h,u.u5]}),o})()}}]);